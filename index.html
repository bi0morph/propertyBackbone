<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <title>Property Backbone by bi0morph</title>
  </head>

  <body>
    <header>
      <div class="container">
        <h1>Propertybackbone</h1>
        <h2>studying Backbone.js
          <a href="https://github.com/bi0morph/propertyBackbone" class="btn btn-github">
            <span class="icon"></span>View on GitHub
          </a>
        </h2>        
        <section id="description">
          <p>Creating application <a href="http://propertycross.com">http://propertycross.com</a> on Backbone.js by <a href="https://github.com/tastejs/PropertyCross/tree/master/specification">specification</a>. 

          </p>
        </section>
      </div>
    </header>
    <div id="search-app" class="container"></div>
    <script type="text/template" id="search-form-template">
      <h3 class="text-center">
        PropertyCross
        <button id="faves" class="btn pull-right">Faves</button>
      </h3>
      <div class="info-text">
        Use the form below to search for houses to buy. You can search by place-name, postcode, or click 'My location', to search in your current location!
      </div>
      <div class="form-container form-inline">
        <input type="text" id="query" class="form-control" value="<%= searchQuery %>" name="query" autofocus>
        <button class="btn" id="go">Go</button>
        <button class="btn" id="my-location">My location</button>
      </div>
      <div id="recent-searches" <%= recentSearches.length ? '' : 'class="hidden"' %>>
        <h4>Recent searches:</h4>
        <ul class="list">
          <% _.each(recentSearches,function(search) { %>
            <li><a href="#/query/<%= search.query %>"><%= search.query %> (<%= search.qntResults %>)</a></li>
          <% });%>
        </ul>
      </div>
      <div id="locations" <%= locations.length ? '' : 'class="hidden"' %>>
        <h4>Please select a location below:</h4>
        <ul class="list">
           <% _.each(locations,function(location) { %>
            <li>
              <a href="#/query/<%= location.place_name %>">
                <%= location.long_title %> (<%= location.place_name %>)
              </a>
            </li>
          <% });%>
        </ul>
      </div>
      <p class="error <%= errorMessage.length ? '' : 'hidden' %>" >
        <%= errorMessage %>
      </p>
    </script>
    <script type="text/template" id="properties-list-template">
      <h3 class="text-center">
        <%= properties.length %> of <%= total_results %> matches
      </h3>
      <ul class="list">
        <% _.each(properties,function(property, index) { %>
          <li>
            <a href="#/properties/<%= index %>">
              <img src="<%= property.thumb_url %>" align="left" class="img-thumbnail" width="<%= property.thumb_width %>" height="<%= property.thumb_height %>" alt="<%= property.title %>">
              <%= property.price_formatted %><br>
              <%= property.title %>
            </a>
          </li>
        <% });%>
      </ul>
      <section class="<%= properties.length < total_results ? '' : 'hidden' %>">
        <button id="load-more" class="btn pull-right">Load more</button>
      </section>
    </script>
    <script type="text/template" id="property-detail-template">
      <h3 class="text-center">
        Properti Details
        <button id="add-to-fave" class="btn pull-right"><%= isFavorite ? '-' : '+'%></button>
      </h3>
      <div class="detail">
        <h4><%= price %></h4>
        <h5><%= title %></h5>
        <img src="<%= image.src %>" class="img-thumbnail" width="<%= image.width %>" height="<%= image.height %>"  align="left" alt="<%= title %>">
        <p><%= bedrooms %> bedrooms, <%= bathrooms %> bathrooms</p>
        <p><%= summary %></p>
      </div>
      
    </script>

    <script type="text/javascript" src="/bower_components/underscore/underscore.js"></script>
    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="/bower_components/backbone/backbone.js"></script>
    
    <script type="text/javascript" src="/javascripts/views/app.js"></script>

    <script type="text/javascript" src="/javascripts/models/recentSearch.js"></script>
    <script type="text/javascript" src="/javascripts/collections/listRecentSearches.js"></script>
    <script type="text/javascript" src="/javascripts/models/searchForm.js"></script>
    <script type="text/javascript" src="/javascripts/views/searchForm.js"></script>

    <script type="text/javascript" src="/javascripts/models/propertiesList.js"></script>
    <script type="text/javascript" src="/javascripts/views/propertiesList.js"></script>

    <script type="text/javascript" src="/javascripts/models/propertyDetail.js"></script>
    <script type="text/javascript" src="/javascripts/collections/listFavorites.js"></script>
    <script type="text/javascript" src="/javascripts/views/propertyDetail.js"></script>

    <script type="text/javascript" src="/javascripts/nestoria-api.js"></script>
    <script type="text/javascript" src="/javascripts/searchService.js"></script>
    
    <script type="text/javascript" src="/javascripts/routers/router.js"></script>
    
    
    <script type="text/javascript" src="/javascripts/app.js"></script>
  </body>
</html>